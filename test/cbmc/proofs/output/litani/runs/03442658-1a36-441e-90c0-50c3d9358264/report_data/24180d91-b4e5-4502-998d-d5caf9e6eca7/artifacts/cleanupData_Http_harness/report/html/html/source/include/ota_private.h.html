
<html>
<head>
<title>source/include/ota_private.h</title>
<link rel="stylesheet" type="text/css" href="../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 /*</div><div id="2" class="line none">    2  * AWS IoT Over-the-air Update v3.0.0</div><div id="3" class="line none">    3  * Copyright (C) 2020 Amazon.com, Inc. or its affiliates.  All Rights Reserved.</div><div id="4" class="line none">    4  *</div><div id="5" class="line none">    5  * Permission is hereby granted, free of charge, to any person obtaining a copy of</div><div id="6" class="line none">    6  * this software and associated documentation files (the "Software"), to deal in</div><div id="7" class="line none">    7  * the Software without restriction, including without limitation the rights to</div><div id="8" class="line none">    8  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of</div><div id="9" class="line none">    9  * the Software, and to permit persons to whom the Software is furnished to do so,</div><div id="10" class="line none">   10  * subject to the following conditions:</div><div id="11" class="line none">   11  *</div><div id="12" class="line none">   12  * The above copyright notice and this permission notice shall be included in all</div><div id="13" class="line none">   13  * copies or substantial portions of the Software.</div><div id="14" class="line none">   14  *</div><div id="15" class="line none">   15  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div><div id="16" class="line none">   16  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS</div><div id="17" class="line none">   17  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR</div><div id="18" class="line none">   18  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER</div><div id="19" class="line none">   19  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</div><div id="20" class="line none">   20  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div id="21" class="line none">   21  */</div><div id="22" class="line none">   22 </div><div id="23" class="line none">   23 /**</div><div id="24" class="line none">   24  * @file ota_private.h</div><div id="25" class="line none">   25  * @brief Macros, enums, variables, and definitions internal to the OTA Agent module and</div><div id="26" class="line none">   26  * shared by other OTA modules and testing files.</div><div id="27" class="line none">   27  */</div><div id="28" class="line none">   28 </div><div id="29" class="line none">   29 #ifndef <a href="ota_private.h.html#30">OTA_PRIVATE_H</a></div><div id="30" class="line none">   30 #define <a href="ota_private.h.html#30">OTA_PRIVATE_H</a></div><div id="31" class="line none">   31 </div><div id="32" class="line none">   32 /* Standard includes. */</div><div id="33" class="line none">   33 /* For FILE type in OtaFileContext_t.*/</div><div id="34" class="line none">   34 #include &lt;stdio.h&gt;</div><div id="35" class="line none">   35 #include &lt;stdint.h&gt;</div><div id="36" class="line none">   36 #include &lt;stdbool.h&gt;</div><div id="37" class="line none">   37 </div><div id="38" class="line none">   38 /* OTA_DO_NOT_USE_CUSTOM_CONFIG allows building the OTA library</div><div id="39" class="line none">   39  * without a custom config. If a custom config is provided, the</div><div id="40" class="line none">   40  * OTA_DO_NOT_USE_CUSTOM_CONFIG macro should not be defined. */</div><div id="41" class="line none">   41 #ifndef OTA_DO_NOT_USE_CUSTOM_CONFIG</div><div id="42" class="line none">   42     #include "ota_config.h"</div><div id="43" class="line none">   43 #endif</div><div id="44" class="line none">   44 </div><div id="45" class="line none">   45 /* Include config defaults header to get default values of configs not defined</div><div id="46" class="line none">   46  * in ota_config.h file. */</div><div id="47" class="line none">   47 #include "ota_config_defaults.h"</div><div id="48" class="line none">   48 </div><div id="49" class="line none">   49 /**</div><div id="50" class="line none">   50  * @addtogroup ota_constants</div><div id="51" class="line none">   51  * @{</div><div id="52" class="line none">   52  */</div><div id="53" class="line none">   53 /* General constants. */</div><div id="54" class="line none">   54 #define <a href="ota_private.h.html#54">LOG2_BITS_PER_BYTE</a>           3U                                                   /*!&lt; @brief Log base 2 of bits per byte. */</div><div id="55" class="line none">   55 #define <a href="ota_private.h.html#55">BITS_PER_BYTE</a>                ( ( uint32_t ) 1U &lt;&lt; <a href="ota_private.h.html#54">LOG2_BITS_PER_BYTE</a> )            /*!&lt; @brief Number of bits in a byte. This is used by the block bitmap implementation. */</div><div id="56" class="line none">   56 #define <a href="ota_private.h.html#56">OTA_FILE_BLOCK_SIZE</a>          ( ( uint32_t ) 1U &lt;&lt; otaconfigLOG2_FILE_BLOCK_SIZE ) /*!&lt; @brief Data section size of the file data block message (excludes the header). */</div><div id="57" class="line none">   57 #define <a href="ota_private.h.html#57">OTA_MAX_FILES</a>                1U                                                   /*!&lt; @brief [MUST REMAIN 1! Future support.] Maximum number of concurrent OTA files. */</div><div id="58" class="line none">   58 #define <a href="ota_private.h.html#58">OTA_MAX_BLOCK_BITMAP_SIZE</a>    128U                                                 /*!&lt; @brief Max allowed number of bytes to track all blocks of an OTA file. Adjust block size if more range is needed. */</div><div id="59" class="line none">   59 #define <a href="ota_private.h.html#59">OTA_REQUEST_MSG_MAX_SIZE</a>     ( 3U * <a href="ota_private.h.html#58">OTA_MAX_BLOCK_BITMAP_SIZE</a> )                   /*!&lt; @brief Maximum size of the message */</div><div id="60" class="line none">   60 #define <a href="ota_private.h.html#60">OTA_REQUEST_URL_MAX_SIZE</a>     ( 1500 )                                             /*!&lt; @brief Maximum size of the S3 presigned URL */</div><div id="61" class="line none">   61 #define <a href="ota_private.h.html#61">OTA_ERASED_BLOCKS_VAL</a>        0xffU                                                /*!&lt; @brief The starting state of a group of erased blocks in the Rx block bitmap. */</div><div id="62" class="line none">   62 </div><div id="63" class="line none">   63 /** @} */</div><div id="64" class="line none">   64 </div><div id="65" class="line none">   65 /**</div><div id="66" class="line none">   66  * @addtogroup ota_constants</div><div id="67" class="line none">   67  * @{</div><div id="68" class="line none">   68  */</div><div id="69" class="line none">   69 /* Job document parser constants. */</div><div id="70" class="line none">   70 #define <a href="ota_private.h.html#70">OTA_MAX_JSON_TOKENS</a>         64U                                                                         /*!&lt; @brief Number of JSON tokens supported in a single parser call. */</div><div id="71" class="line none">   71 #define <a href="ota_private.h.html#71">OTA_MAX_JSON_STR_LEN</a>        256U                                                                        /*!&lt; @brief Limit our JSON string compares to something small to avoid going into the weeds. */</div><div id="72" class="line none">   72 #define <a href="ota_private.h.html#72">OTA_DOC_MODEL_MAX_PARAMS</a>    32U                                                                         /*!&lt; @brief The parameter list is backed by a 32 bit longword bitmap by design. */</div><div id="73" class="line none">   73 #define <a href="ota_private.h.html#73">OTA_JOB_PARAM_REQUIRED</a>      ( bool ) true                                                               /*!&lt; @brief Used to denote a required document model parameter. */</div><div id="74" class="line none">   74 #define <a href="ota_private.h.html#74">OTA_JOB_PARAM_OPTIONAL</a>      ( bool ) false                                                              /*!&lt; @brief Used to denote an optional document model parameter. */</div><div id="75" class="line none">   75 #define <a href="ota_private.h.html#75">OTA_DONT_STORE_PARAM</a>        0xffff                                                                      /*!&lt; @brief If destOffset in the model is 0xffffffff, do not store the value. */</div><div id="76" class="line none">   76 #define <a href="ota_private.h.html#76">OTA_STORE_NESTED_JSON</a>       0x1fffU                                                                     /*!&lt; @brief Store the reference to a nested JSON in a separate pointer */</div><div id="77" class="line none">   77 #define <a href="ota_private.h.html#77">OTA_DATA_BLOCK_SIZE</a>         ( ( 1U &lt;&lt; otaconfigLOG2_FILE_BLOCK_SIZE ) + <a href="ota_private.h.html#60">OTA_REQUEST_URL_MAX_SIZE</a> + 30 ) /*!&lt; @brief Header is 19 bytes.*/</div><div id="78" class="line none">   78 /** @} */</div><div id="79" class="line none">   79 </div><div id="80" class="line none">   80 /**</div><div id="81" class="line none">   81  * @addtogroup ota_constants</div><div id="82" class="line none">   82  * @{</div><div id="83" class="line none">   83  */</div><div id="84" class="line none">   84 /* OTA Agent task event flags. */</div><div id="85" class="line none">   85 #define <a href="ota_private.h.html#85">OTA_EVT_MASK_JOB_MSG_READY</a>     0x00000001UL                                                                                                                               /*!&lt; Event flag for OTA Job message ready. */</div><div id="86" class="line none">   86 #define <a href="ota_private.h.html#86">OTA_EVT_MASK_DATA_MSG_READY</a>    0x00000002UL                                                                                                                               /*!&lt; Event flag for OTA Data message ready. */</div><div id="87" class="line none">   87 #define <a href="ota_private.h.html#87">OTA_EVT_MASK_SHUTDOWN</a>          0x00000004UL                                                                                                                               /*!&lt; Event flag to request OTA shutdown. */</div><div id="88" class="line none">   88 #define <a href="ota_private.h.html#88">OTA_EVT_MASK_REQ_TIMEOUT</a>       0x00000008UL                                                                                                                               /*!&lt; Event flag indicating the request timer has timed out. */</div><div id="89" class="line none">   89 #define <a href="ota_private.h.html#89">OTA_EVT_MASK_USER_ABORT</a>        0x000000016UL                                                                                                                              /*!&lt; Event flag to indicate user initiated OTA abort. */</div><div id="90" class="line none">   90 #define <a href="ota_private.h.html#90">OTA_EVT_MASK_ALL_EVENTS</a>        ( <a href="ota_private.h.html#85">OTA_EVT_MASK_JOB_MSG_READY</a> | <a href="ota_private.h.html#86">OTA_EVT_MASK_DATA_MSG_READY</a> | <a href="ota_private.h.html#87">OTA_EVT_MASK_SHUTDOWN</a> | <a href="ota_private.h.html#88">OTA_EVT_MASK_REQ_TIMEOUT</a> | <a href="ota_private.h.html#89">OTA_EVT_MASK_USER_ABORT</a> )  /*!&lt; Event flag to mask indicate all events.*/</div><div id="91" class="line none">   91 /** @} */</div><div id="92" class="line none">   92 </div><div id="93" class="line none">   93 /**</div><div id="94" class="line none">   94  * @brief Number of parameters in the job document.</div><div id="95" class="line none">   95  *</div><div id="96" class="line none">   96  */</div><div id="97" class="line none">   97 #define <a href="ota_private.h.html#97">OTA_NUM_JOB_PARAMS</a>          ( 21 )</div><div id="98" class="line none">   98 </div><div id="99" class="line none">   99 /**</div><div id="100" class="line none">  100  * @brief Maximum size of the Job ID.</div><div id="101" class="line none">  101  *</div><div id="102" class="line none">  102  */</div><div id="103" class="line none">  103 #define <a href="ota_private.h.html#103">OTA_JOB_ID_MAX_SIZE</a>         ( 72UL + 1UL )</div><div id="104" class="line none">  104 </div><div id="105" class="line none">  105 /**</div><div id="106" class="line none">  106  * @brief Size of the buffer used to store the protocol field of the job document.</div><div id="107" class="line none">  107  *</div><div id="108" class="line none">  108  */</div><div id="109" class="line none">  109 #define <a href="ota_private.h.html#109">OTA_PROTOCOL_BUFFER_SIZE</a>    20U</div><div id="110" class="line none">  110 </div><div id="111" class="line none">  111 /**</div><div id="112" class="line none">  112  * @ingroup ota_constants</div><div id="113" class="line none">  113  * @brief A composite cryptographic signature structure able to hold our largest supported signature.</div><div id="114" class="line none">  114  */</div><div id="115" class="line none">  115 </div><div id="116" class="line none">  116 #define <a href="ota_private.h.html#116">kOTA_MaxSignatureSize</a>           256 /* Max bytes supported for a file signature (2048 bit RSA is 256 bytes). */</div><div id="117" class="line none">  117 </div><div id="118" class="line none">  118 /**</div><div id="119" class="line none">  119  *</div><div id="120" class="line none">  120  * @brief Keys in OTA job doc.</div><div id="121" class="line none">  121  *</div><div id="122" class="line none">  122  * The OTA job document contains parameters that are required for us to build the</div><div id="123" class="line none">  123  * stream request message and manage the OTA process. Including info like file name,</div><div id="124" class="line none">  124  * size, attributes, etc. The following value specifies the number of parameters</div><div id="125" class="line none">  125  * that are included in the job document model although some may be optional.</div><div id="126" class="line none">  126  * @addtogroup ota_constants</div><div id="127" class="line none">  127  * @{</div><div id="128" class="line none">  128  */</div><div id="129" class="line none">  129 #define <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a>              "."                                                        /*!&lt; @brief Separator used to define nested keys. */</div><div id="130" class="line none">  130 #define <a href="ota_private.h.html#130">OTA_JSON_CLIENT_TOKEN_KEY</a>       "clientToken"                                              /*!&lt; @brief Client token. */</div><div id="131" class="line none">  131 #define <a href="ota_private.h.html#131">OTA_JSON_TIMESTAMP_KEY</a>          "timestamp"                                                /*!&lt; @brief Used to calculate timeout and time spent on the operation. */</div><div id="132" class="line none">  132 #define <a href="ota_private.h.html#132">OTA_JSON_EXECUTION_KEY</a>          "execution"                                                /*!&lt; @brief Contains job execution parameters . */</div><div id="133" class="line none">  133 #define <a href="ota_private.h.html#133">OTA_JSON_JOB_ID_KEY</a>             <a href="ota_private.h.html#132">OTA_JSON_EXECUTION_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "jobId"          /*!&lt; @brief Name of the job. */</div><div id="134" class="line none">  134 #define <a href="ota_private.h.html#134">OTA_JSON_STATUS_DETAILS_KEY</a>     <a href="ota_private.h.html#132">OTA_JSON_EXECUTION_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "statusDetails"  /*!&lt; @brief Current status of the job. */</div><div id="135" class="line none">  135 #define <a href="ota_private.h.html#135">OTA_JSON_SELF_TEST_KEY</a>          <a href="ota_private.h.html#134">OTA_JSON_STATUS_DETAILS_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "self_test" /*!&lt; @brief Specifies if the platform and service is is selftest. */</div><div id="136" class="line none">  136 #define <a href="ota_private.h.html#136">OTA_JSON_UPDATED_BY_KEY</a>         <a href="ota_private.h.html#134">OTA_JSON_STATUS_DETAILS_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "updatedBy" /*!&lt; @brief Parameter to specify update status. */</div><div id="137" class="line none">  137 #define <a href="ota_private.h.html#137">OTA_JSON_UPDATED_BY_KEY_ONLY</a>    "updatedBy"                                                /*!&lt; @brief Specifies if the platform and service is is selftest. Not searched in sub fields. */</div><div id="138" class="line none">  138 #define <a href="ota_private.h.html#138">OTA_JSON_SELF_TEST_KEY_ONLY</a>     "self_test"                                                /*!&lt; @brief Parameter to specify update status. Not searched in sub fields. */</div><div id="139" class="line none">  139 #define <a href="ota_private.h.html#139">OTA_JSON_JOB_DOC_KEY</a>            <a href="ota_private.h.html#132">OTA_JSON_EXECUTION_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "jobDocument"    /*!&lt; @brief Parameters that specify the nature of the job. */</div><div id="140" class="line none">  140 #define <a href="ota_private.h.html#140">OTA_JSON_OTA_UNIT_KEY</a>           <a href="ota_private.h.html#139">OTA_JSON_JOB_DOC_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "afr_ota"          /*!&lt; @brief afr-ota. */</div><div id="141" class="line none">  141 #define <a href="ota_private.h.html#141">OTA_JSON_PROTOCOLS_KEY</a>          <a href="ota_private.h.html#140">OTA_JSON_OTA_UNIT_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "protocols"       /*!&lt; @brief Protocols over which the download can take place. */</div><div id="142" class="line none">  142 #define <a href="ota_private.h.html#142">OTA_JSON_FILE_GROUP_KEY</a>         <a href="ota_private.h.html#140">OTA_JSON_OTA_UNIT_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "files"           /*!&lt; @brief Parameters for specifying file configurations. */</div><div id="143" class="line none">  143 #define <a href="ota_private.h.html#143">OTA_JSON_STREAM_NAME_KEY</a>        <a href="ota_private.h.html#140">OTA_JSON_OTA_UNIT_KEY</a> <a href="ota_private.h.html#129">OTA_JSON_SEPARATOR</a> "streamname"      /*!&lt; @brief Name of the stream used for download. */</div><div id="144" class="line none">  144 #define <a href="ota_private.h.html#144">OTA_JSON_FILE_PATH_KEY</a>          "filepath"                                                 /*!&lt; @brief Path to store the image on the device. */</div><div id="145" class="line none">  145 #define <a href="ota_private.h.html#145">OTA_JSON_FILE_SIZE_KEY</a>          "filesize"                                                 /*!&lt; @brief Size of the file to be downloaded. */</div><div id="146" class="line none">  146 #define <a href="ota_private.h.html#146">OTA_JSON_FILE_ID_KEY</a>            "fileid"                                                   /*!&lt; @brief Used to identify the file in case of multiple file downloads. */</div><div id="147" class="line none">  147 #define <a href="ota_private.h.html#147">OTA_JSON_FILE_ATTRIBUTE_KEY</a>     "attr"                                                     /*!&lt; @brief Additional file attributes. */</div><div id="148" class="line none">  148 #define <a href="ota_private.h.html#148">OTA_JSON_FILE_CERT_NAME_KEY</a>     "certfile"                                                 /*!&lt; @brief Location of the certificate on the device to find code signing. */</div><div id="149" class="line none">  149 #define <a href="ota_private.h.html#149">OTA_JSON_UPDATE_DATA_URL_KEY</a>    "update_data_url"                                          /*!&lt; @brief S3 bucket presigned url to fetch the image from . */</div><div id="150" class="line none">  150 #define <a href="ota_private.h.html#150">OTA_JSON_AUTH_SCHEME_KEY</a>        "auth_scheme"                                              /*!&lt; @brief Authentication scheme for downloading a the image over HTTP. */</div><div id="151" class="line none">  151 #define <a href="ota_private.h.html#151">OTA_JSON_FILETYPE_KEY</a>           "fileType"                                                 /*!&lt; @brief Used to identify the file in case of multi file type support. */</div><div id="152" class="line none">  152 /** @} */</div><div id="153" class="line none">  153 </div><div id="154" class="line none">  154 /**</div><div id="155" class="line none">  155  * @ingroup ota_private_enum_types</div><div id="156" class="line none">  156  * @brief Data ingest results.</div><div id="157" class="line none">  157  *</div><div id="158" class="line none">  158  * The negative error codes represent actual error in ingesting the data block whereas the positive error codes</div><div id="159" class="line none">  159  * represent success and other conditions that are not ingest errors like duplicate block is received.</div><div id="160" class="line none">  160  */</div><div id="161" class="line none">  161 typedef enum</div><div id="162" class="line none">  162 {</div><div id="163" class="line none">  163     <a href="ota_private.h.html#163">IngestResultFileComplete</a> = -1,     /*!&lt; The file transfer is complete and the signature check passed. */</div><div id="164" class="line none">  164     <a href="ota_private.h.html#164">IngestResultSigCheckFail</a> = -2,     /*!&lt; The file transfer is complete but the signature check failed. */</div><div id="165" class="line none">  165     <a href="ota_private.h.html#165">IngestResultFileCloseFail</a> = -3,    /*!&lt; There was a problem trying to close the receive file. */</div><div id="166" class="line none">  166     <a href="ota_private.h.html#166">IngestResultNullInput</a> = -4,        /*!&lt; One of the input pointers is NULL. */</div><div id="167" class="line none">  167     <a href="ota_private.h.html#167">IngestResultBadFileHandle</a> = -5,    /*!&lt; The receive file pointer is invalid. */</div><div id="168" class="line none">  168     <a href="ota_private.h.html#168">IngestResultUnexpectedBlock</a> = -6,  /*!&lt; We were asked to ingest a block but were not expecting one. */</div><div id="169" class="line none">  169     <a href="ota_private.h.html#169">IngestResultBlockOutOfRange</a> = -7,  /*!&lt; The received block is out of the expected range. */</div><div id="170" class="line none">  170     <a href="ota_private.h.html#170">IngestResultBadData</a> = -8,          /*!&lt; The data block from the server was malformed. */</div><div id="171" class="line none">  171     <a href="ota_private.h.html#171">IngestResultWriteBlockFailed</a> = -9, /*!&lt; The PAL layer failed to write the file block. */</div><div id="172" class="line none">  172     <a href="ota_private.h.html#172">IngestResultNoDecodeMemory</a> = -10,  /*!&lt; Memory could not be allocated for decoding . */</div><div id="173" class="line none">  173     <a href="ota_private.h.html#173">IngestResultUninitialized</a> = -127,  /*!&lt; Software BUG: We forgot to set the result code. */</div><div id="174" class="line none">  174     <a href="ota_private.h.html#174">IngestResultAccepted_Continue</a> = 0, /*!&lt; The block was accepted and we're expecting more. */</div><div id="175" class="line none">  175     <a href="ota_private.h.html#175">IngestResultDuplicate_Continue</a> = 1 /*!&lt; The block was a duplicate but that's OK. Continue. */</div><div id="176" class="line none">  176 } <a href="ota_private.h.html#176">IngestResult_t</a>;</div><div id="177" class="line none">  177 </div><div id="178" class="line none">  178 /**</div><div id="179" class="line none">  179  * @ingroup ota_private_enum_types</div><div id="180" class="line none">  180  * @brief Generic JSON document parser errors.</div><div id="181" class="line none">  181  *</div><div id="182" class="line none">  182  */</div><div id="183" class="line none">  183 typedef enum</div><div id="184" class="line none">  184 {</div><div id="185" class="line none">  185     <a href="ota_private.h.html#185">DocParseErrUnknown</a> = -1,          /*!&lt; The error code has not yet been set by a logic path. */</div><div id="186" class="line none">  186     <a href="ota_private.h.html#186">DocParseErrNone</a> = 0,              /*!&lt; No error in parsing the document. */</div><div id="187" class="line none">  187     <a href="ota_private.h.html#187">DocParseErrOutOfMemory</a>,           /*!&lt; We failed to allocate enough dynamic memory for a field. */</div><div id="188" class="line none">  188     <a href="ota_private.h.html#188">DocParseErrUserBufferInsuffcient</a>, /*!&lt; The supplied user buffer is insufficient for a field. */</div><div id="189" class="line none">  189     <a href="ota_private.h.html#189">DocParseErrFieldTypeMismatch</a>,     /*!&lt; The field type parsed does not match the document model. */</div><div id="190" class="line none">  190     <a href="ota_private.h.html#190">DocParseErrBase64Decode</a>,          /*!&lt; There was an error decoding the base64 data. */</div><div id="191" class="line none">  191     <a href="ota_private.h.html#191">DocParseErrInvalidNumChar</a>,        /*!&lt; There was an invalid character in a numeric value field. */</div><div id="192" class="line none">  192     <a href="ota_private.h.html#192">DocParseErrDuplicatesNotAllowed</a>,  /*!&lt; A duplicate parameter was found in the job document. */</div><div id="193" class="line none">  193     <a href="ota_private.h.html#193">DocParseErrMalformedDoc</a>,          /*!&lt; The document didn't fulfill the model requirements. */</div><div id="194" class="line none">  194     <a href="ota_private.h.html#194">DocParseErr_InvalidJSONBuffer</a>,    /*!&lt; When the JSON is malformed and not parsed correctly. */</div><div id="195" class="line none">  195     <a href="ota_private.h.html#195">DocParseErrNullModelPointer</a>,      /*!&lt; The pointer to the document model was NULL. */</div><div id="196" class="line none">  196     <a href="ota_private.h.html#196">DocParseErrNullBodyPointer</a>,       /*!&lt; The document model's internal body pointer was NULL. */</div><div id="197" class="line none">  197     <a href="ota_private.h.html#197">DocParseErrNullDocPointer</a>,        /*!&lt; The pointer to the JSON document was NULL. */</div><div id="198" class="line none">  198     <a href="ota_private.h.html#198">DocParseErrTooManyParams</a>,         /*!&lt; The document model has more parameters than we can handle. */</div><div id="199" class="line none">  199     <a href="ota_private.h.html#199">DocParseErrParamKeyNotInModel</a>,    /*!&lt; The document model does not include the specified parameter key. */</div><div id="200" class="line none">  200     <a href="ota_private.h.html#200">DocParseErrInvalidModelParamType</a>, /*!&lt; The document model specified an invalid parameter type. */</div><div id="201" class="line none">  201     <a href="ota_private.h.html#201">DocParseErrInvalidToken</a>           /*!&lt; The Jasmine token was invalid, producing a NULL pointer. */</div><div id="202" class="line none">  202 } <a href="ota_private.h.html#202">DocParseErr_t</a>;</div><div id="203" class="line none">  203 </div><div id="204" class="line none">  204 /**</div><div id="205" class="line none">  205  * @ingroup ota_private_enum_types</div><div id="206" class="line none">  206  * @brief Document model parameter types used by the JSON document parser.</div><div id="207" class="line none">  207  *</div><div id="208" class="line none">  208  */</div><div id="209" class="line none">  209 typedef enum</div><div id="210" class="line none">  210 {</div><div id="211" class="line none">  211     <a href="ota_private.h.html#211">ModelParamTypeStringCopy</a>,</div><div id="212" class="line none">  212     <a href="ota_private.h.html#212">ModelParamTypeStringInDoc</a>, /* Only use this type if you can process before freeing the document memory. */</div><div id="213" class="line none">  213     <a href="ota_private.h.html#213">ModelParamTypeObject</a>,</div><div id="214" class="line none">  214     <a href="ota_private.h.html#214">ModelParamTypeArray</a>,</div><div id="215" class="line none">  215     <a href="ota_private.h.html#215">ModelParamTypeUInt32</a>,</div><div id="216" class="line none">  216     <a href="ota_private.h.html#216">ModelParamTypeSigBase64</a>,</div><div id="217" class="line none">  217     <a href="ota_private.h.html#217">ModelParamTypeIdent</a>,</div><div id="218" class="line none">  218     <a href="ota_private.h.html#218">ModelParamTypeArrayCopy</a></div><div id="219" class="line none">  219 } <a href="ota_private.h.html#219">ModelParamType_t</a>;</div><div id="220" class="line none">  220 </div><div id="221" class="line none">  221 /**</div><div id="222" class="line none">  222  * @ingroup ota_private_enum_types</div><div id="223" class="line none">  223  * @brief Gives the reason to set for job parsing operation.</div><div id="224" class="line none">  224  *</div><div id="225" class="line none">  225  */</div><div id="226" class="line none">  226 typedef enum</div><div id="227" class="line none">  227 {</div><div id="228" class="line none">  228     <a href="ota_private.h.html#228">JobReasonReceiving</a> = 0,  /* Update progress status. */</div><div id="229" class="line none">  229     <a href="ota_private.h.html#229">JobReasonSigCheckPassed</a>, /* Set status details to Self Test Ready. */</div><div id="230" class="line none">  230     <a href="ota_private.h.html#230">JobReasonSelfTestActive</a>, /* Set status details to Self Test Active. */</div><div id="231" class="line none">  231     <a href="ota_private.h.html#231">JobReasonAccepted</a>,       /* Set job state to Succeeded. */</div><div id="232" class="line none">  232     <a href="ota_private.h.html#232">JobReasonRejected</a>,       /* Set job state to Failed. */</div><div id="233" class="line none">  233     <a href="ota_private.h.html#233">JobReasonAborted</a>,        /* Set job state to Failed. */</div><div id="234" class="line none">  234     <a href="ota_private.h.html#234">NumJobReasons</a></div><div id="235" class="line none">  235 } <a href="ota_private.h.html#235">OtaJobReason_t</a>;</div><div id="236" class="line none">  236 </div><div id="237" class="line none">  237 /**</div><div id="238" class="line none">  238  * @ingroup ota_private_struct_types</div><div id="239" class="line none">  239  * @brief JSON document parameter to store the details of keys and where to store them.</div><div id="240" class="line none">  240  *</div><div id="241" class="line none">  241  * This is a document parameter structure used by the document model. It determines</div><div id="242" class="line none">  242  * the type of parameter specified by the key name and where to store the parameter</div><div id="243" class="line none">  243  * locally when it is extracted from the JSON document. It also contains the</div><div id="244" class="line none">  244  * expected Jasmine type of the value field for validation.</div><div id="245" class="line none">  245  *</div><div id="246" class="line none">  246  * @note The destOffset field is an offset into the models context structure.</div><div id="247" class="line none">  247  */</div><div id="248" class="line none">  248 typedef struct</div><div id="249" class="line none">  249 {</div><div id="250" class="line none">  250     const char * <a href="ota_private.h.html#250">pSrcKey</a>;                  /*!&lt; Expected key name. */</div><div id="251" class="line none">  251     const bool <a href="ota_private.h.html#251">required</a>;                   /*!&lt; If true, this parameter must exist in the document. */</div><div id="252" class="line none">  252     uint16_t <a href="ota_private.h.html#252">pDestOffset</a>;                  /*!&lt; Offset to where we will store the value, if not ~0. */</div><div id="253" class="line none">  253     uint16_t <a href="ota_private.h.html#253">pDestSizeOffset</a>;              /*!&lt; Offset to where we will store the value, if not ~0. */</div><div id="254" class="line none">  254     const <a href="ota_private.h.html#219">ModelParamType_t</a> <a href="ota_private.h.html#254">modelParamType</a>; /*!&lt; We extract the value, if found, based on this type. */</div><div id="255" class="line none">  255 } <a href="ota_private.h.html#255">JsonDocParam_t</a>;</div><div id="256" class="line none">  256 </div><div id="257" class="line none">  257 /**</div><div id="258" class="line none">  258  * @ingroup ota_private_struct_types</div><div id="259" class="line none">  259  * @brief JSON document model to store the details of parameters expected in the job document.</div><div id="260" class="line none">  260  *</div><div id="261" class="line none">  261  * The document model is currently limited to 32 parameters per the implementation,</div><div id="262" class="line none">  262  * although it may be easily expanded to more in the future by simply expanding</div><div id="263" class="line none">  263  * the parameter bitmap.</div><div id="264" class="line none">  264  *</div><div id="265" class="line none">  265  * The document model is used to control what JSON parameters are expected from a</div><div id="266" class="line none">  266  * document and where to store the parameters, if desired, in a destination context.</div><div id="267" class="line none">  267  * We currently only store parameters into an OtaFileContext_t but it could be used</div><div id="268" class="line none">  268  * for any structure since we don't use a type pointer.</div><div id="269" class="line none">  269  */</div><div id="270" class="line none">  270 typedef struct</div><div id="271" class="line none">  271 {</div><div id="272" class="line none">  272     void * <a href="ota_private.h.html#272">contextBase</a>;              /*!&lt; The base address of the destination OTA context structure. */</div><div id="273" class="line none">  273     uint32_t <a href="ota_private.h.html#273">contextSize</a>;            /*!&lt; The size, in bytes, of the destination context structure. */</div><div id="274" class="line none">  274     const <a href="ota_private.h.html#255">JsonDocParam_t</a> * <a href="ota_private.h.html#274">pBodyDef</a>; /*!&lt; Pointer to the document model body definition. */</div><div id="275" class="line none">  275     uint16_t <a href="ota_private.h.html#275">numModelParams</a>;         /*!&lt; The number of entries in the document model (limited to 32). */</div><div id="276" class="line none">  276     uint32_t <a href="ota_private.h.html#276">paramsReceivedBitmap</a>;   /*!&lt; Bitmap of the parameters received based on the model. */</div><div id="277" class="line none">  277     uint32_t <a href="ota_private.h.html#277">paramsRequiredBitmap</a>;   /*!&lt; Bitmap of the parameters required from the model. */</div><div id="278" class="line none">  278 } <a href="ota_private.h.html#278">JsonDocModel_t</a>;</div><div id="279" class="line none">  279 </div><div id="280" class="line none">  280 /**</div><div id="281" class="line none">  281  * @ingroup ota_private_struct_types</div><div id="282" class="line none">  282  * @brief This is the OTA statistics structure to hold useful info.</div><div id="283" class="line none">  283  */</div><div id="284" class="line none">  284 typedef struct <a href="ota_private.h.html#284">OtaAgentStatistics</a></div><div id="285" class="line none">  285 {</div><div id="286" class="line none">  286     uint32_t <a href="ota_private.h.html#286">otaPacketsReceived</a>;  /*!&lt; Number of OTA packets received by the MQTT callback. */</div><div id="287" class="line none">  287     uint32_t <a href="ota_private.h.html#287">otaPacketsQueued</a>;    /*!&lt; Number of OTA packets queued by the MQTT callback. */</div><div id="288" class="line none">  288     uint32_t <a href="ota_private.h.html#288">otaPacketsProcessed</a>; /*!&lt; Number of OTA packets processed by the OTA task. */</div><div id="289" class="line none">  289     uint32_t <a href="ota_private.h.html#289">otaPacketsDropped</a>;   /*!&lt; Number of OTA packets dropped due to congestion. */</div><div id="290" class="line none">  290 } <a href="ota_private.h.html#290">OtaAgentStatistics_t</a>;</div><div id="291" class="line none">  291 </div><div id="292" class="line none">  292 /**</div><div id="293" class="line none">  293  * @ingroup ota_enum_types</div><div id="294" class="line none">  294  * @brief OTA Image states.</div><div id="295" class="line none">  295  *</div><div id="296" class="line none">  296  * After an OTA update image is received and authenticated, it is logically moved to</div><div id="297" class="line none">  297  * the Self Test state by the OTA agent pending final acceptance. After the image is</div><div id="298" class="line none">  298  * activated and tested by your user code, you should put it into either the Accepted</div><div id="299" class="line none">  299  * or Rejected state by calling @ref OTA_SetImageState ( OtaImageStateAccepted ) or</div><div id="300" class="line none">  300  * @ref OTA_SetImageState ( OtaImageStateRejected ). If the image is accepted, it becomes</div><div id="301" class="line none">  301  * the main firmware image to be booted from then on. If it is rejected, the image is</div><div id="302" class="line none">  302  * no longer valid and shall not be used, reverting to the last known good image.</div><div id="303" class="line none">  303  *</div><div id="304" class="line none">  304  * If you want to abort an active OTA transfer, you may do so by calling the API</div><div id="305" class="line none">  305  * @ref OTA_SetImageState ( OtaImageStateAborted ).</div><div id="306" class="line none">  306  */</div><div id="307" class="line none">  307 typedef enum <a href="ota_private.h.html#307">OtaImageState</a></div><div id="308" class="line none">  308 {</div><div id="309" class="line none">  309     <a href="ota_private.h.html#309">OtaImageStateUnknown</a> = 0,  /*!&lt; @brief The initial state of the OTA MCU Image. */</div><div id="310" class="line none">  310     <a href="ota_private.h.html#310">OtaImageStateTesting</a> = 1,  /*!&lt; @brief The state of the OTA MCU Image post successful download and reboot. */</div><div id="311" class="line none">  311     <a href="ota_private.h.html#311">OtaImageStateAccepted</a> = 2, /*!&lt; @brief The state of the OTA MCU Image post successful download and successful self_test. */</div><div id="312" class="line none">  312     <a href="ota_private.h.html#312">OtaImageStateRejected</a> = 3, /*!&lt; @brief The state of the OTA MCU Image when the job has been rejected. */</div><div id="313" class="line none">  313     <a href="ota_private.h.html#313">OtaImageStateAborted</a> = 4,  /*!&lt; @brief The state of the OTA MCU Image after a timeout publish to the stream request fails.</div><div id="314" class="line none">  314                                 *   Also if the OTA MCU image is aborted in the middle of a stream. */</div><div id="315" class="line none">  315     <a href="ota_private.h.html#315">OtaLastImageState</a> = <a href="ota_private.h.html#313">OtaImageStateAborted</a></div><div id="316" class="line none">  316 } <a href="ota_private.h.html#316">OtaImageState_t</a>;</div><div id="317" class="line none">  317 </div><div id="318" class="line none">  318 /**</div><div id="319" class="line none">  319  * @ingroup ota_enum_types</div><div id="320" class="line none">  320  * @brief OTA Platform Image State.</div><div id="321" class="line none">  321  *</div><div id="322" class="line none">  322  * The image state set by platform implementation.</div><div id="323" class="line none">  323  */</div><div id="324" class="line none">  324 typedef enum <a href="ota_private.h.html#324">OtaPalImageState</a></div><div id="325" class="line none">  325 {</div><div id="326" class="line none">  326     <a href="ota_private.h.html#326">OtaPalImageStateUnknown</a> = 0,   /*!&lt; @brief The initial state of the OTA PAL Image. */</div><div id="327" class="line none">  327     <a href="ota_private.h.html#327">OtaPalImageStatePendingCommit</a>, /*!&lt; @brief OTA PAL Image awaiting update. */</div><div id="328" class="line none">  328     <a href="ota_private.h.html#328">OtaPalImageStateValid</a>,         /*!&lt; @brief OTA PAL Image is valid. */</div><div id="329" class="line none">  329     <a href="ota_private.h.html#329">OtaPalImageStateInvalid</a>        /*!&lt; @brief OTA PAL Image is invalid. */</div><div id="330" class="line none">  330 } <a href="ota_private.h.html#330">OtaPalImageState_t</a>;</div><div id="331" class="line none">  331 </div><div id="332" class="line none">  332 /**</div><div id="333" class="line none">  333  * @ingroup ota_enum_types</div><div id="334" class="line none">  334  * @brief OTA Agent Events.</div><div id="335" class="line none">  335  *</div><div id="336" class="line none">  336  * The events sent to OTA agent.</div><div id="337" class="line none">  337  */</div><div id="338" class="line none">  338 typedef enum <a href="ota_private.h.html#338">OtaEvent</a></div><div id="339" class="line none">  339 {</div><div id="340" class="line none">  340     <a href="ota_private.h.html#340">OtaAgentEventStart</a> = 0,           /*!&lt; @brief Start the OTA state machine */</div><div id="341" class="line none">  341     <a href="ota_private.h.html#341">OtaAgentEventStartSelfTest</a>,       /*!&lt; @brief Event to trigger self test. */</div><div id="342" class="line none">  342     <a href="ota_private.h.html#342">OtaAgentEventRequestJobDocument</a>,  /*!&lt; @brief Event for requesting job document. */</div><div id="343" class="line none">  343     <a href="ota_private.h.html#343">OtaAgentEventReceivedJobDocument</a>, /*!&lt; @brief Event when job document is received. */</div><div id="344" class="line none">  344     <a href="ota_private.h.html#344">OtaAgentEventCreateFile</a>,          /*!&lt; @brief Event to create a file. */</div><div id="345" class="line none">  345     <a href="ota_private.h.html#345">OtaAgentEventRequestFileBlock</a>,    /*!&lt; @brief Event to request file blocks. */</div><div id="346" class="line none">  346     <a href="ota_private.h.html#346">OtaAgentEventReceivedFileBlock</a>,   /*!&lt; @brief Event to trigger when file block is received. */</div><div id="347" class="line none">  347     <a href="ota_private.h.html#347">OtaAgentEventRequestTimer</a>,        /*!&lt; @brief Event to request event timer. */</div><div id="348" class="line none">  348     <a href="ota_private.h.html#348">OtaAgentEventCloseFile</a>,           /*!&lt; @brief Event to trigger closing file. */</div><div id="349" class="line none">  349     <a href="ota_private.h.html#349">OtaAgentEventSuspend</a>,             /*!&lt; @brief Event to suspend ota task */</div><div id="350" class="line none">  350     <a href="ota_private.h.html#350">OtaAgentEventResume</a>,              /*!&lt; @brief Event to resume suspended task */</div><div id="351" class="line none">  351     <a href="ota_private.h.html#351">OtaAgentEventUserAbort</a>,           /*!&lt; @brief Event triggered by user to stop agent. */</div><div id="352" class="line none">  352     <a href="ota_private.h.html#352">OtaAgentEventShutdown</a>,            /*!&lt; @brief Event to trigger ota shutdown */</div><div id="353" class="line none">  353     <a href="ota_private.h.html#353">OtaAgentEventMax</a>                  /*!&lt; @brief Last event specifier */</div><div id="354" class="line none">  354 } <a href="ota_private.h.html#354">OtaEvent_t</a>;</div><div id="355" class="line none">  355 </div><div id="356" class="line none">  356 /**</div><div id="357" class="line none">  357  * @ingroup ota_struct_types</div><div id="358" class="line none">  358  * @brief OTA File Signature info.</div><div id="359" class="line none">  359  *</div><div id="360" class="line none">  360  * File key signature information to verify the authenticity of the incoming file</div><div id="361" class="line none">  361  */</div><div id="362" class="line none">  362 typedef struct</div><div id="363" class="line none">  363 {</div><div id="364" class="line none">  364     uint16_t <a href="ota_private.h.html#364">size</a>;                         /*!&lt; @brief Size, in bytes, of the signature. */</div><div id="365" class="line none">  365     uint8_t <a href="ota_private.h.html#365">data</a>[ <a href="ota_private.h.html#116">kOTA_MaxSignatureSize</a> ]; /*!&lt; @brief The binary signature data. */</div><div id="366" class="line none">  366 } <a href="ota_private.h.html#366">Sig256_t</a>;</div><div id="367" class="line none">  367 </div><div id="368" class="line none">  368 /**</div><div id="369" class="line none">  369  * @ingroup ota_struct_types</div><div id="370" class="line none">  370  * @brief OTA File Context Information.</div><div id="371" class="line none">  371  *</div><div id="372" class="line none">  372  * Information about an OTA Update file that is to be streamed. This structure is filled in from a</div><div id="373" class="line none">  373  * job notification MQTT message. Currently only one file context can be streamed at time.</div><div id="374" class="line none">  374  */</div><div id="375" class="line none">  375 typedef struct <a href="ota_private.h.html#375">OtaFileContext</a></div><div id="376" class="line none">  376 {</div><div id="377" class="line none">  377     uint8_t * <a href="ota_private.h.html#377">pFilePath</a>;          /*!&lt; @brief Update file pathname. */</div><div id="378" class="line none">  378     uint16_t <a href="ota_private.h.html#378">filePathMaxSize</a>;     /*!&lt; @brief Maximum size of the update file path */</div><div id="379" class="line none">  379     #if defined( WIN32 ) || defined( __linux__ )</div><div id="380" class="line none">  380         FILE * <a href="ota_private.h.html#380">pFile</a>;             /*!&lt; @brief File type is stdio FILE structure after file is open for write. */</div><div id="381" class="line none">  381     #else</div><div id="382" class="line none">  382         uint8_t * <a href="ota_private.h.html#380">pFile</a>;          /*!&lt; @brief File type is RAM/Flash image pointer after file is open for write. */</div><div id="383" class="line none">  383     #endif</div><div id="384" class="line none">  384     uint32_t <a href="ota_private.h.html#384">fileSize</a>;            /*!&lt; @brief The size of the file in bytes. */</div><div id="385" class="line none">  385     uint32_t <a href="ota_private.h.html#385">blocksRemaining</a>;     /*!&lt; @brief How many blocks remain to be received (a code optimization). */</div><div id="386" class="line none">  386     uint32_t <a href="ota_private.h.html#386">fileAttributes</a>;      /*!&lt; @brief Flags specific to the file being received (e.g. secure, bundle, archive). */</div><div id="387" class="line none">  387     uint32_t <a href="ota.h.html#293">serverFileID</a>;        /*!&lt; @brief The file is referenced by this numeric ID in the OTA job. */</div><div id="388" class="line none">  388     uint8_t * <a href="ota_private.h.html#388">pJobName</a>;           /*!&lt; @brief The job name associated with this file from the job service. */</div><div id="389" class="line none">  389     uint16_t <a href="ota_private.h.html#389">jobNameMaxSize</a>;      /*!&lt; @brief Maximum size of the job name. */</div><div id="390" class="line none">  390     uint8_t * <a href="ota.h.html#270">pStreamName</a>;        /*!&lt; @brief The stream associated with this file from the OTA service. */</div><div id="391" class="line none">  391     uint16_t <a href="ota_private.h.html#391">streamNameMaxSize</a>;   /*!&lt; @brief Maximum size of the stream name. */</div><div id="392" class="line none">  392     uint8_t * <a href="ota_private.h.html#392">pRxBlockBitmap</a>;     /*!&lt; @brief Bitmap of blocks received (for deduplicating and missing block request). */</div><div id="393" class="line none">  393     uint16_t <a href="ota_private.h.html#393">blockBitmapMaxSize</a>;  /*!&lt; @brief Maximum size of the block bitmap. */</div><div id="394" class="line none">  394     uint8_t * <a href="ota_private.h.html#394">pCertFilepath</a>;      /*!&lt; @brief Pathname of the certificate file used to validate the receive file. */</div><div id="395" class="line none">  395     uint16_t <a href="ota_private.h.html#395">certFilePathMaxSize</a>; /*!&lt; @brief Maximum certificate path size. */</div><div id="396" class="line none">  396     uint8_t * <a href="ota_private.h.html#396">pUpdateUrlPath</a>;     /*!&lt; @brief Url for the file. */</div><div id="397" class="line none">  397     uint16_t <a href="ota_private.h.html#397">updateUrlMaxSize</a>;    /*!&lt; @brief Maximum size of the url. */</div><div id="398" class="line none">  398     uint8_t * <a href="ota.h.html#278">pAuthScheme</a>;        /*!&lt; @brief Authorization scheme. */</div><div id="399" class="line none">  399     uint16_t <a href="ota_private.h.html#399">authSchemeMaxSize</a>;   /*!&lt; @brief Maximum size of the auth scheme. */</div><div id="400" class="line none">  400     uint32_t <a href="ota_private.h.html#400">updaterVersion</a>;      /*!&lt; @brief Used by OTA self-test detection, the version of Firmware that did the update. */</div><div id="401" class="line none">  401     bool <a href="ota_private.h.html#401">isInSelfTest</a>;            /*!&lt; @brief True if the job is in self test mode. */</div><div id="402" class="line none">  402     uint8_t * <a href="ota_private.h.html#402">pProtocols</a>;         /*!&lt; @brief Authorization scheme. */</div><div id="403" class="line none">  403     uint16_t <a href="ota_private.h.html#403">protocolMaxSize</a>;     /*!&lt; @brief Maximum size of the  supported protocols string. */</div><div id="404" class="line none">  404     uint8_t * <a href="ota_private.h.html#404">pDecodeMem</a>;         /*!&lt; @brief Decode memory. */</div><div id="405" class="line none">  405     uint32_t <a href="ota_private.h.html#405">decodeMemMaxSize</a>;    /*!&lt; @brief Maximum size of the decode memory. */</div><div id="406" class="line none">  406     uint32_t <a href="ota_private.h.html#406">fileType</a>;            /*!&lt; @brief The file type id set when creating the OTA job. */</div><div id="407" class="line none">  407     <a href="ota_private.h.html#366">Sig256_t</a> * <a href="ota_private.h.html#407">pSignature</a>;        /*!&lt; @brief Pointer to the file's signature structure. */</div><div id="408" class="line none">  408 } <a href="ota_private.h.html#408">OtaFileContext_t</a>;</div><div id="409" class="line none">  409 </div><div id="410" class="line none">  410 /**</div><div id="411" class="line none">  411  * @ingroup ota_private_struct_types</div><div id="412" class="line none">  412  * @brief  The OTA Agent event and data structures.</div><div id="413" class="line none">  413  */</div><div id="414" class="line none">  414 </div><div id="415" class="line none">  415 typedef struct <a href="ota_private.h.html#415">OtaEventData</a></div><div id="416" class="line none">  416 {</div><div id="417" class="line none">  417     uint8_t <a href="ota_private.h.html#365">data</a>[ <a href="ota_private.h.html#77">OTA_DATA_BLOCK_SIZE</a> ]; /*!&lt; Buffer for storing event information. */</div><div id="418" class="line none">  418     uint32_t <a href="ota_private.h.html#418">dataLength</a>;                 /*!&lt; Total space required for the event. */</div><div id="419" class="line none">  419     bool <a href="ota_private.h.html#419">bufferUsed</a>;                     /*!&lt; Flag set when buffer is used otherwise cleared. */</div><div id="420" class="line none">  420 } <a href="ota_private.h.html#420">OtaEventData_t</a>;</div><div id="421" class="line none">  421 </div><div id="422" class="line none">  422 /**</div><div id="423" class="line none">  423  * @ingroup ota_private_struct_types</div><div id="424" class="line none">  424  * @brief Stores information about the event message.</div><div id="425" class="line none">  425  *</div><div id="426" class="line none">  426  */</div><div id="427" class="line none">  427 typedef struct <a href="ota_private.h.html#427">OtaEventMsg</a></div><div id="428" class="line none">  428 {</div><div id="429" class="line none">  429     <a href="ota_private.h.html#420">OtaEventData_t</a> * <a href="ota_private.h.html#429">pEventData</a>; /*!&lt; Event status message. */</div><div id="430" class="line none">  430     <a href="ota_private.h.html#354">OtaEvent_t</a> <a href="ota_private.h.html#430">eventId</a>;          /*!&lt; Identifier for the event. */</div><div id="431" class="line none">  431 } <a href="ota_private.h.html#431">OtaEventMsg_t</a>;</div><div id="432" class="line none">  432 </div><div id="433" class="line none">  433 #endif /* ifndef OTA_PRIVATE_H */</div>
</div>
</body>
</html>
